"use strict";define(["require","select2","yoValidate"],function(t,e,a){return Vue.component("report-edit",{template:'\n\t\t<form class="form form-horizontal" id="report_add">\n\t<div class="m-t-md">\n\t\t<div class="col-xs-10 col-xs-offset-1">\n\t\t\t<div class="form-group">\n\t\t\t<div class="row">\n\t\t\t<div class="col-xs-5">\n\t\t\t\t<label class="control-label"><span class="text-danger">*</span> 类型：</label>\n\t\t\t\t<select class="form-control" :disabled="status==\'edit\'" v-model="type">\n\t\t\t\t\t<option value="0">周报</option>\n\t\t\t\t\t<option value="1">月报</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="col-xs-7">\n\t\t\t\t<label class="control-label"><span class="text-danger">*</span> 日期：</label>\n\t\t\t\t<select class="form-control" :disabled="status==\'edit\'" v-model="c.time" >\n\t\t\t\t\t<option v-for="el in time" :value="el">{{el}}</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="control-label"><span class="text-danger">*</span> 批阅人：</label>\n\t\t\t\t<select class="form-control" id="readMan">\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="control-label">抄送人：</label>\n\t\t\t\t<select class="form-control"  id="copyMan" multiple>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="control-label"><span class="text-danger">*</span> 总结：</label>\n\t\t\t\t<textarea style="height:120px" v-model="c.content" class="form-control" name="" rows="" cols=""></textarea>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="control-label"><span class="text-danger">*</span> 计划：</label>\n\t\t\t\t<textarea style="height:120px" v-model="c.plan" class="form-control" name="" rows="" cols=""></textarea>\n\t\t\t</div>\n\t\t\t<div class="form-group">\n\t\t\t\t<label class="control-label">附件：</label>\n\t\t\t\t<div class="well well-sm">\n\t\t\t\t\t<div id="filesUploadBtn"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="form-group col-sm-12">\n\n                <table v-if="c.files&&c.files.length" class="table table-bordered">\n                    <thead>\n                        <tr>\n                            <th>文件名</th>\n                            <th width="180">操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for="(el,index) of c.files">\n                            <td>{{el.originalFilename}}</td>\n                            <td><a target="_blank" :href="el.url" class="btn btn-primary btn-sm">\n                            <i class="fa fa-eye"></i> 查看</a>\n                            <a @click="files_del(index)" target="_blank" class="btn btn-danger btn-sm"><i class="fa fa-trash"></i> 删除</a></td>\n                        </tr>\n                    </tbody>\n                </table>\n                </div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</form>\n  ',data:function(){return{api_saveReportData:"/report/saveReportData.do",api_showReportDate:"/report/showReportDate.do",api_updateTasks:"/report/updateReportData.do",c:{type:0,files:[]},open:0,dialog_init:0,uploadInit:0,status:"add",type:0,time:[],addBox:"addBox"+Math.random().toString().split(".")[1],selectBox:"selectBox"+Math.random().toString().split(".")[1],select2:{}}},created:function(){},watch:{type:function(t,e){var a=this;console.log(this.open),"add"==this.status&&this.open&&$.post(a.api_showReportDate,{type:a.type}).done(function(t){a.time=t.result})}},mounted:function(){},methods:{init:function(t){var e=this;if(t||this.dialog_init||0!=this.type||$.post(e.api_showReportDate,{type:e.type}).done(function(t){e.time=t.result}),t){console.log(t);var a=JSON.parse(JSON.stringify(t));this.status="edit";for(var n in a)"content"==n||"plan"==n?Vue.set(e.c,n,yo.str_textarea(a[n])):Vue.set(e.c,n,a[n]);this.c.files=a.attachs,this.type=a.type,0==a.type?(this.time=[a.zbtimeStart+"-"+a.zbtimeEnd],this.c.time=a.zbtimeStart+"-"+a.zbtimeEnd):(this.time=[a.time],this.c.time=a.time),$("#readMan").html('<option value="'+a.readMan+'" selected>'+a.readManName+"</option>").val(a.readMan).trigger("change");var s="",i=a.copyMan&&a.copyMan.split(",")||[],o=a.copyManName&&a.copyManName.split(",")||[];$.each(i,function(t){s+='<option value="'+this+'" selected>'+o[t]+"</option>"}),$("#copyMan").html(s).trigger("change")}layer.open({type:1,title:"add"==e.status?"新增工作计划":"编辑工作计划",content:$("#report_add"),area:["800px","700px"],btn:["保存"],btnAlign:"c",success:function(){e.open=1,e.dialog_init||(e.uploader_init(),e.select_init(),e.dialog_init=1)},yes:function(){e.save()},end:function(){e.clear()}})},clear:function(){this.open=0;for(var t in this.c)Vue.set(this.c,t,"");this.c.files=[],this.c.copyMan=[],this.c.copyManName=[],this.status="add",this.type=0},select_init:function(){var t=this;this.select2.readMan&&(this.select2.readMan.select2("destroy"),this.select2.copyMan.select2("destroy")),t.select2.readMan=$("#readMan").select2({placeholder:"请选择批阅人",language:"zh-CN",ajax:{url:"/user/getUserInfo",dataType:"json",type:"post",delay:250,data:function(t){return{page:t.page||1,ROLE_ID:"01dc6d29f1704efeab0376d327f47d98,cf54c0b5567542e084778c3f5b230054,4cb60182bb294cfba622f951e390bc6f",data:{q:t.term||""}}},processResults:function(t,e){return e.page=e.page||1,$.each(t,function(){this.id=this.USER_ID,this.text=this.NAME}),{results:t,pagination:{more:10==t.length}}},cache:!0},minimumInputLength:0}).on("change",function(){t.c.readMan=this.value}),t.select2.copyMan=$("#copyMan").select2({placeholder:"请选择抄送人",language:"zh-CN",ajax:{url:"/user/getUserInfo",dataType:"json",type:"post",delay:250,data:function(t){return{page:t.page||1,ROLE_ID:"cf54c0b5567542e084778c3f5b230054,b729e9334ad64c15a4e47d88b8c2638f,01dc6d29f1704efeab0376d327f47d98,30b1487221464d369ca4c2462ccca920,de9de2f006e145a29d52dfadda295353,4cb60182bb294cfba622f951e390bc6f,04fe5e23842f4b998216080bc3b61821,b693f826af0545b5a1c60447a27c3089,45efba0a0fa946aebf7befe614c74e55",data:{q:t.term||""}}},processResults:function(t,e){return e.page=e.page||1,$.each(t,function(){this.id=this.USER_ID,this.text=this.NAME}),{results:t,pagination:{more:10==t.length}}},cache:!0},minimumInputLength:0}).on("change",function(){t.c.copyMan=this.value})},uploader_init:function(){var e=this;this.uploadStatus||t(["webuploader"],function(t){e.uploadInit=1;var a,n=t.create({server:"/contract/uploadAttachment.do",runtimeOrder:"html5",pick:{id:"#filesUploadBtn",innerHTML:"上传附件"},resize:!1,fileNumLimit:10});n.on("uploadSuccess",function(t,a){e.c.files.push(a)}),n.on("uploadStart",function(){a=layer.load(3)}),n.on("uploadError",function(t){layer.msg("上传出错")}),n.on("error",function(t){"Q_TYPE_DENIED"==t&&layer.msg("上传文件格式错误，请检查")}),n.on("uploadFinished",function(t){n.reset(),layer.close(a)}),n.on("fileQueued",function(){n.upload()})})},files_del:function(t){var e=this,a=layer.confirm("确认删除此项?",function(){e.c.files.splice(t,1),layer.close(a)})},save:function(t){var e={time:this.c.time};if(!this.c.time)return void layer.msg("请选择时间");if(e.readMan=$("#readMan").val(),e.readManName=$("#readMan").find("option:selected").text(),!e.readMan)return void layer.msg("请选择批阅人");if(e.copyMan=[],e.copyManName=[],$.each($("#copyMan").find("option:selected"),function(){e.copyMan.push(this.value),e.copyManName.push(this.innerHTML)}),!this.c.content)return void layer.msg("请填写总结");if(e.content=yo.textarea_str(this.c.content),!this.c.plan)return void layer.msg("请填写计划");e.plan=yo.textarea_str(this.c.plan),e.files=this.c.files,e.type=this.type,e.id=this.c.id;var a=layer.load(3),n="edit"==this.status?this.api_updateTasks:this.api_saveReportData;yocto.json(n,e,function(t){layer.close(a),layer.msg("提交成功"),setTimeout(function(){location.reload()},2e3)})}}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZV9kaWFsb2dfd29ya3JlcG9ydF9lZGl0LmpzIl0sIm5hbWVzIjpbImRlZmluZSIsInJlcXVpcmUiLCJzZWxlY3QyIiwieW9WYWxpZGF0ZSIsIlZ1ZSIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwiZGF0YSIsImFwaV9zYXZlUmVwb3J0RGF0YSIsInRpbWUiLCJhcGlfc2hvd1JlcG9ydERhdGUiLCJhcGlfdXBkYXRlVGFza3MiLCJjIiwidHlwZSIsImNvcHlNYW5OYW1lcyIsIiQiLCJkaWFsb2dfaW5pdCIsInVwbG9hZEluaXQiLCJzdGF0dXMiLCJkaWFsb2ciLCJ0aXRsZSIsImNvbnRlbnQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzcGxpdCIsImFyZWEiLCJidG4iLCJ0aGF0IiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJvcGVuIiwieWVzIiwic2F2ZSIsImRvbmUiLCJyZXMiLCJyZXN1bHQiLCJtb3VudGVkIiwibWV0aG9kcyIsImluaXQiLCJpbmZvIiwiY29weU1hbiIsImNvcHlNYW5OYW1lIiwicG9zdCIsInN0cmluZ2lmeSIsInJlYWRNYW4iLCJwbGFjZWhvbGRlciIsImtleSIsImxhbmd1YWdlIiwieW8iLCJzdHJfdGV4dGFyZWEiLCJqc29uIiwidXJsIiwiZGVsYXkiLCJhdHRhY2hzIiwicGFnZSIsInBhcmFtcyIsInpidGltZUVuZCIsIlJPTEVfSUQiLCJ6YnRpbWVTdGFydCIsInEiLCJ0ZXJtIiwicHJvY2Vzc1Jlc3VsdHMiLCJyZWFkTWFuTmFtZSIsInZhbCIsInRyaWdnZXIiLCJlYWNoIiwiVVNFUl9JRCIsImNvcHlNYW5MaXN0IiwiaSIsImh0bWwiLCJyZXN1bHRzIiwibGF5ZXIiLCJjYWNoZSIsIm1pbmltdW1JbnB1dExlbmd0aCIsImJ0bkFsaWduIiwiYWpheCIsImVuZCIsImNsZWFyIiwiZmlsZXMiLCJtb3JlIiwib24iLCJ1cGxvYWRlcl9pbml0IiwidXBsb2FkU3RhdHVzIiwibG9hZGluZyIsInVwbG9hZGVyIiwic2VydmVyIiwicnVudGltZU9yZGVyIiwicmVzaXplIiwiZmlsZU51bUxpbWl0IiwiaWQiLCJ0ZXh0IiwiTkFNRSIsInB1c2giLCJwYWdpbmF0aW9uIiwibGVuZ3RoIiwidmFsdWUiLCJjbG9zZSIsInVwbG9hZCIsImNvbmZpcm0iLCJzcGxpY2UiLCJwb3N0RGF0YSIsIldlYlVwbG9hZGVyIiwiaW5uZXJIVE1MIiwiY3JlYXRlIiwicGljayIsImZpbGUiLCJsb2FkIiwibXNnIiwicmVzZXQiLCJmaWxlc19kZWwiLCJpbmRleCIsImNiIiwiZmluZCIsInRleHRhcmVhX3N0ciIsInBsYW4iLCJsb2FkaW5nU3dpdGNoIiwiYXBpIiwieW9jdG8iLCJzZXRUaW1lb3V0IiwibG9jYXRpb24iLCJyZWxvYWQiXSwibWFwcGluZ3MiOiJZQUFBQSxTQUNDLFVBQVcsVUFBVyxjQUR2QkEsU0FDQ0MsRUFBV0MsRUFBV0MsR0ErV3RCLE1BNVdlQyxLQUFJQyxVQUFVLGVBQTdCQyxTQUFBQSx3eEZBdUlJQyxLQXZJd0MsV0F3SXZDLE9BRUFDLG1CQUFtQkMsNEJBQ25CQyxtQkFBQSw0QkFDQ0MsZ0JBQUYsOEJBRUFDLEdBQ0FDLEtBQU1DLEVBQ05DLFVBR0FBLEtBQUUsRUFDRkMsWUFBQSxFQWpFREMsV0FBVyxFQW1FWEMsT0FBTUMsTUFDTE4sS0FBQUEsRUFDQU8sUUFDQUMsT0FBQUEsU0FBV0MsS0FBRkMsU0FIZ0JDLFdBQUFDLE1BQUEsS0FBQSxHQUl6QkMsVUFBTyxZQUprQkosS0FBQUMsU0FBQUMsV0FBQUMsTUFBQSxLQUFBLEdBS3pCRSxhQUdDQyxRQTlKdUMsYUFpS3RDQSxPQUNBQSxLQURBQSxTQUNBQSxFQUFBQSxHQUNBLEdBQUFBLEdBQUFDLElBQ0RDLFNBZHdCQyxJQUFBRixLQUFBRyxNQUFBLE9BZXpCQyxLQWZ5QmYsUUFlbkJXLEtBQUFHLE1BQ0xKLEVBQUFBLEtBQUtNLEVBQUx4QixvQkFBQUcsS0FBQWUsRUFBQWYsT0FBQXNCLEtBQUEsU0FBQUMsR0FoQndCUixFQUFBbkIsS0FBQTJCLEVBQUFDLFdB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LEtBQUtqRSxLQUFLMkUsY0FFNUIzRSxLQUFLakIsRUFBRVMsUUFFVixXQURBb0QsT0FBTW9DLElBQUksUUFJWCxJQURBUCxFQUFTakYsUUFBVTZCLEdBQUdpRSxhQUFhdEYsS0FBS2pCLEVBQUVTLFVBQ3RDUSxLQUFLakIsRUFBRXdHLEtBRVYsV0FEQTNDLE9BQU1vQyxJQUFJLFFBR1hQLEdBQVNjLEtBQU9sRSxHQUFHaUUsYUFBYXRGLEtBQUtqQixFQUFFd0csTUFDdkNkLEVBQVN0QixNQUFRbkQsS0FBS2pCLEVBQUVvRSxNQUN4QnNCLEVBQVN6RixLQUFNZ0IsS0FBS2hCLEtBQ3BCeUYsRUFBU1gsR0FBSzlELEtBQUtqQixFQUFFK0UsRUFDckIsSUFBTTBCLEdBQWdCNUMsTUFBTW1DLEtBQUssR0FDMUJVLEVBQW1CLFFBQWJ6RixLQUFLWCxPQUFpQlcsS0FBS2xCLGdCQUFrQmtCLEtBQUtyQixrQkFDL0QrRyxPQUFNbkUsS0FBS2tFLEVBQUloQixFQUFTLFNBQVNsRSxHQUMvQnFDLE1BQU15QixNQUFNbUIsR0FDWjVDLE1BQU1vQyxJQUFJLFFBQ1ZXLFdBQVcsV0FDVkMsU0FBU0MsVUFDUiIsImZpbGUiOiJtb2R1bGVfZGlhbG9nX3dvcmtyZXBvcnRfZWRpdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImRlZmluZShbXHJcblx0J3JlcXVpcmUnLCAnc2VsZWN0MicsICd5b1ZhbGlkYXRlJ1xyXG5dLCBmdW5jdGlvbiAocmVxdWlyZSwgc2VsZWN0Mix5b1ZhbGlkYXRlKSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdGNvbnN0IG1vZHVsZSA9IFZ1ZS5jb21wb25lbnQoJ3JlcG9ydC1lZGl0Jywge1xyXG5cdFx0dGVtcGxhdGU6IGBcclxuXHRcdDxmb3JtIGNsYXNzPVwiZm9ybSBmb3JtLWhvcml6b250YWxcIiBpZD1cInJlcG9ydF9hZGRcIj5cclxuXHQ8ZGl2IGNsYXNzPVwibS10LW1kXCI+XHJcblx0XHQ8ZGl2IGNsYXNzPVwiY29sLXhzLTEwIGNvbC14cy1vZmZzZXQtMVwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwicm93XCI+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJjb2wteHMtNVwiPlxyXG5cdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj48c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyXCI+Kjwvc3Bhbj4g57G75Z6L77yaPC9sYWJlbD5cclxuXHRcdFx0XHQ8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgOmRpc2FibGVkPVwic3RhdHVzPT0nZWRpdCdcIiB2LW1vZGVsPVwidHlwZVwiPlxyXG5cdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cIjBcIj7lkajmiqU8L29wdGlvbj5cclxuXHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9XCIxXCI+5pyI5oqlPC9vcHRpb24+XHJcblx0XHRcdFx0PC9zZWxlY3Q+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLXhzLTdcIj5cclxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlclwiPio8L3NwYW4+IOaXpeacn++8mjwvbGFiZWw+XHJcblx0XHRcdFx0PHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIDpkaXNhYmxlZD1cInN0YXR1cz09J2VkaXQnXCIgdi1tb2RlbD1cImMudGltZVwiID5cclxuXHRcdFx0XHRcdDxvcHRpb24gdi1mb3I9XCJlbCBpbiB0aW1lXCIgOnZhbHVlPVwiZWxcIj57e2VsfX08L29wdGlvbj5cclxuXHRcdFx0XHQ8L3NlbGVjdD5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlclwiPio8L3NwYW4+IOaJuemYheS6uu+8mjwvbGFiZWw+XHJcblx0XHRcdFx0PHNlbGVjdCBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwicmVhZE1hblwiPlxyXG5cdFx0XHRcdDwvc2VsZWN0PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+5oqE6YCB5Lq677yaPC9sYWJlbD5cclxuXHRcdFx0XHQ8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgIGlkPVwiY29weU1hblwiIG11bHRpcGxlPlxyXG5cdFx0XHRcdDwvc2VsZWN0PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+PHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlclwiPio8L3NwYW4+IOaAu+e7k++8mjwvbGFiZWw+XHJcblx0XHRcdFx0PHRleHRhcmVhIHN0eWxlPVwiaGVpZ2h0OjEyMHB4XCIgdi1tb2RlbD1cImMuY29udGVudFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgbmFtZT1cIlwiIHJvd3M9XCJcIiBjb2xzPVwiXCI+PC90ZXh0YXJlYT5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPjxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXJcIj4qPC9zcGFuPiDorqHliJLvvJo8L2xhYmVsPlxyXG5cdFx0XHRcdDx0ZXh0YXJlYSBzdHlsZT1cImhlaWdodDoxMjBweFwiIHYtbW9kZWw9XCJjLnBsYW5cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIG5hbWU9XCJcIiByb3dzPVwiXCIgY29scz1cIlwiPjwvdGV4dGFyZWE+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj7pmYTku7bvvJo8L2xhYmVsPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ3ZWxsIHdlbGwtc21cIj5cclxuXHRcdFx0XHRcdDxkaXYgaWQ9XCJmaWxlc1VwbG9hZEJ0blwiPjwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGNvbC1zbS0xMlwiPlxyXG5cclxuICAgICAgICAgICAgICAgIDx0YWJsZSB2LWlmPVwiYy5maWxlcyYmYy5maWxlcy5sZW5ndGhcIiBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+5paH5Lu25ZCNPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aCB3aWR0aD1cIjE4MFwiPuaTjeS9nDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ciB2LWZvcj1cIihlbCxpbmRleCkgb2YgYy5maWxlc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7ZWwub3JpZ2luYWxGaWxlbmFtZX19PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48YSB0YXJnZXQ9XCJfYmxhbmtcIiA6aHJlZj1cImVsLnVybFwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1leWVcIj48L2k+IOafpeecizwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIEBjbGljaz1cImZpbGVzX2RlbChpbmRleClcIiB0YXJnZXQ9XCJfYmxhbmtcIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi1zbVwiPjxpIGNsYXNzPVwiZmEgZmEtdHJhc2hcIj48L2k+IOWIoOmZpDwvYT48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0PC9kaXY+XHJcbjwvZm9ybT5cclxuICBgLFxyXG5cdFx0ZGF0YSgpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHQvL+WJjee9ruaVsOaNrlxyXG5cdFx0XHRcdCAgICBhcGlfc2F2ZVJlcG9ydERhdGE6ICcvcmVwb3J0L3NhdmVSZXBvcnREYXRhLmRvJywvL+S/neWtmFxyXG5cdFx0XHRcdCAgICBhcGlfc2hvd1JlcG9ydERhdGU6Jy9yZXBvcnQvc2hvd1JlcG9ydERhdGUuZG8nLCAvL+iOt+WPluaXpeacnyBcclxuICAgIFx0XHRcdFx0YXBpX3VwZGF0ZVRhc2tzOiAnL3JlcG9ydC91cGRhdGVSZXBvcnREYXRhLmRvJywvL+e8lui+kVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGM6e1xyXG5cdFx0XHRcdFx0dHlwZTowLFxyXG5cdFx0XHRcdFx0ZmlsZXM6W11cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdC8v5paw5aKeXHJcblx0XHRcdFx0b3BlbjowLFxyXG5cdFx0XHRcdGRpYWxvZ19pbml0OjAsXHJcblx0XHRcdFx0dXBsb2FkSW5pdDowLFxyXG5cdFx0XHRcdHN0YXR1czonYWRkJyxcclxuXHRcdFx0XHR0eXBlOjAsXHJcblx0XHRcdFx0dGltZTpbXSxcclxuXHRcdFx0XHRhZGRCb3g6ICdhZGRCb3gnICsgKE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXSxcclxuXHRcdFx0XHRzZWxlY3RCb3g6ICdzZWxlY3RCb3gnICsgKE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXSxcclxuXHRcdFx0XHRzZWxlY3QyOnt9LFxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0Y3JlYXRlZCgpIHtcclxuXHRcdFx0XHJcblx0XHR9LFxyXG5cdFx0d2F0Y2g6e1xyXG5cdFx0XHR0eXBlKG4sbyl7XHJcblx0XHRcdFx0Y29uc3QgdGhhdCA9IHRoaXM7XHJcblx0XHRcdFx0Y29uc29sZS5sb2codGhpcy5vcGVuKVxyXG5cdFx0XHRcdGlmKHRoaXMuc3RhdHVzPT0nYWRkJyYmdGhpcy5vcGVuKXtcclxuXHRcdFx0XHRcdCQucG9zdCh0aGF0LmFwaV9zaG93UmVwb3J0RGF0ZSx7dHlwZTp0aGF0LnR5cGV9KS5kb25lKHJlcz0+e1xyXG5cdFx0XHRcdFx0XHR0aGF0LnRpbWUgPSByZXMucmVzdWx0XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdG1vdW50ZWQoKSB7XHJcblx0XHRcdFxyXG5cdFx0XHQvL+WIneWni+WMluWFqOmAiVxyXG5cdFx0Ly9cdHRoaXMuc2VsZWN0X2luaXQoKVxyXG5cdFx0fSxcclxuXHRcdG1ldGhvZHM6IHtcclxuXHRcdFx0aW5pdChpbmZvKXtcclxuXHRcdFx0XHRjb25zdCB0aGF0ID0gdGhpcztcclxuXHRcdFx0XHRpZighaW5mbyYmIXRoaXMuZGlhbG9nX2luaXQmJnRoaXMudHlwZT09MCl7XHJcblx0XHRcdFx0XHQkLnBvc3QodGhhdC5hcGlfc2hvd1JlcG9ydERhdGUse3R5cGU6dGhhdC50eXBlfSkuZG9uZShyZXM9PntcclxuXHRcdFx0XHRcdFx0dGhhdC50aW1lID0gcmVzLnJlc3VsdFxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYoaW5mbyl7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhpbmZvKVxyXG5cdFx0XHRcdFx0Y29uc3QganNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaW5mbykpXHJcblx0XHRcdFx0XHR0aGlzLnN0YXR1cyA9ICdlZGl0J1xyXG5cdFx0XHRcdFx0Zm9yKGxldCBrZXkgaW4ganNvbil7XHJcblx0XHRcdFx0XHRcdGlmKGtleSA9PSdjb250ZW50JyB8fCBrZXk9PSAncGxhbicpe1xyXG5cdFx0XHRcdFx0XHRWdWUuc2V0KHRoYXQuYyxrZXkseW8uc3RyX3RleHRhcmVhKGpzb25ba2V5XSkpXHJcblx0XHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHRWdWUuc2V0KHRoYXQuYyxrZXksanNvbltrZXldKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR0aGlzLmMuZmlsZXMgPSBqc29uLmF0dGFjaHNcclxuXHRcdFx0XHRcdHRoaXMudHlwZSA9IGpzb24udHlwZVxyXG5cdFx0XHRcdFx0aWYoanNvbi50eXBlID09IDApe1xyXG5cdFx0XHRcdFx0XHR0aGlzLnRpbWUgPSBbanNvbi56YnRpbWVTdGFydCArICctJyArIGpzb24uemJ0aW1lRW5kXVxyXG5cdFx0XHRcdFx0dGhpcy5jLnRpbWUgPSBqc29uLnpidGltZVN0YXJ0ICsgJy0nICsganNvbi56YnRpbWVFbmRcclxuXHRcdFx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdFx0XHR0aGlzLnRpbWUgPSBbanNvbi50aW1lXVxyXG5cdFx0XHRcdFx0XHR0aGlzLmMudGltZSA9IGpzb24udGltZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JChcIiNyZWFkTWFuXCIpLmh0bWwoYDxvcHRpb24gdmFsdWU9XCIke2pzb24ucmVhZE1hbn1cIiBzZWxlY3RlZD4ke2pzb24ucmVhZE1hbk5hbWV9PC9vcHRpb24+YCkudmFsKGpzb24ucmVhZE1hbikudHJpZ2dlcignY2hhbmdlJylcclxuXHRcdFx0XHRcdHZhciBodG1sID0gJydcclxuXHRcdFx0XHRcdGNvbnN0IGNvcHlNYW5MaXN0ID0ganNvbi5jb3B5TWFuJiZqc29uLmNvcHlNYW4uc3BsaXQoJywnKSB8fCBbXVxyXG5cdFx0XHRcdFx0Y29uc3QgY29weU1hbk5hbWVzID0ganNvbi5jb3B5TWFuTmFtZSYmanNvbi5jb3B5TWFuTmFtZS5zcGxpdCgnLCcpIHx8IFtdXHJcblx0XHRcdFx0XHQkLmVhY2goY29weU1hbkxpc3QsZnVuY3Rpb24oaSl7XHJcblx0XHRcdFx0XHRcdGh0bWwrPWA8b3B0aW9uIHZhbHVlPVwiJHt0aGlzfVwiIHNlbGVjdGVkPiR7Y29weU1hbk5hbWVzW2ldfTwvb3B0aW9uPmBcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQkKFwiI2NvcHlNYW5cIikuaHRtbChodG1sKS50cmlnZ2VyKCdjaGFuZ2UnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRjb25zdCBkaWFsb2cgPSBsYXllci5vcGVuKHtcclxuXHRcdFx0XHRcdHR5cGU6IDEsXHJcblx0XHRcdFx0XHR0aXRsZTogdGhhdC5zdGF0dXM9PSdhZGQnID8gICfmlrDlop7lt6XkvZzorqHliJInIDogJ+e8lui+keW3peS9nOiuoeWIkicsXHJcblx0XHRcdFx0XHRjb250ZW50OiAkKFwiI3JlcG9ydF9hZGRcIiksXHJcblx0XHRcdFx0XHRhcmVhOiBbJzgwMHB4JywgJzcwMHB4J10sXHJcblx0XHRcdFx0XHRidG46IFsn5L+d5a2YJ10sXHJcblx0XHRcdFx0XHRidG5BbGlnbjogJ2MnLFxyXG5cdFx0XHRcdFx0c3VjY2Vzcygpe1xyXG5cdFx0XHRcdFx0XHR0aGF0Lm9wZW4gPSAxO1xyXG5cdFx0XHRcdFx0XHRpZighdGhhdC5kaWFsb2dfaW5pdCl7XHJcblx0XHRcdFx0XHRcdFx0dGhhdC51cGxvYWRlcl9pbml0KClcclxuXHRcdFx0XHRcdFx0XHR0aGF0LnNlbGVjdF9pbml0KClcclxuXHRcdFx0XHRcdFx0XHR0aGF0LmRpYWxvZ19pbml0PTFcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHllcygpIHtcclxuXHRcdFx0XHRcdFx0dGhhdC5zYXZlKClcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRlbmQoKSB7XHJcblx0XHRcdFx0XHRcdHRoYXQuY2xlYXIoKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1x0XHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0Y2xlYXIoKXtcclxuXHRcdFx0XHR0aGlzLm9wZW4gPSAwXHJcblx0XHRcdFx0Zm9yKGxldCBrZXkgaW4gdGhpcy5jKXtcclxuXHRcdFx0XHRcdFZ1ZS5zZXQodGhpcy5jLGtleSxcIlwiKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR0aGlzLmMuZmlsZXMgPSBbXTtcclxuXHRcdFx0XHR0aGlzLmMuY29weU1hbiA9IFtdO1xyXG5cdFx0XHRcdHRoaXMuYy5jb3B5TWFuTmFtZSA9IFtdXHJcblx0XHRcdFx0dGhpcy5zdGF0dXM9J2FkZCdcclxuXHRcdFx0XHR0aGlzLnR5cGU9MFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRzZWxlY3RfaW5pdCgpe1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdFx0XHRcdGlmKHRoaXMuc2VsZWN0Mi5yZWFkTWFuKXtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0Mi5yZWFkTWFuLnNlbGVjdDIoJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc2VsZWN0Mi5jb3B5TWFuLnNlbGVjdDIoJ2Rlc3Ryb3knKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0dGhhdC5zZWxlY3QyLnJlYWRNYW4gPSAkKFwiI3JlYWRNYW5cIikuc2VsZWN0Mih7XHJcblx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwi6K+36YCJ5oup5om56ZiF5Lq6XCIsXHJcblx0XHRcdFx0XHRcdFx0bGFuZ3VhZ2U6ICd6aC1DTicsXHJcblx0XHRcdFx0XHRcdFx0YWpheDoge1xyXG5cdFx0XHRcdFx0XHRcdFx0dXJsOiBcIi91c2VyL2dldFVzZXJJbmZvXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJwb3N0XCIsXHJcblx0XHRcdFx0XHRcdFx0XHRkZWxheTogMjUwLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogZnVuY3Rpb24gKHBhcmFtcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhZ2U6IHBhcmFtcy5wYWdlIHx8IDEsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Uk9MRV9JRDogXCIwMWRjNmQyOWYxNzA0ZWZlYWIwMzc2ZDMyN2Y0N2Q5OCxjZjU0YzBiNTU2NzU0MmUwODQ3NzhjM2Y1YjIzMDA1NCw0Y2I2MDE4MmJiMjk0Y2ZiYTYyMmY5NTFlMzkwYmM2ZlwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHE6IHBhcmFtcy50ZXJtIHx8IFwiXCIsIC8vIHNlYXJjaCB0ZXJtXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcy5wYWdlID0gcGFyYW1zLnBhZ2UgfHwgMTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JC5lYWNoKGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmlkID0gdGhpcy5VU0VSX0lEO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMudGV4dCA9IHRoaXMuTkFNRTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzOiBkYXRhLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhZ2luYXRpb246IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1vcmU6IGRhdGEubGVuZ3RoID09IDEwXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRtaW5pbXVtSW5wdXRMZW5ndGg6IDBcclxuXHRcdFx0XHRcdFx0fSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoYXQuYy5yZWFkTWFuID0gdGhpcy52YWx1ZTtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0dGhhdC5zZWxlY3QyLmNvcHlNYW4gPSAkKFwiI2NvcHlNYW5cIikuc2VsZWN0Mih7XHJcblx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI6IFwi6K+36YCJ5oup5oqE6YCB5Lq6XCIsXHJcblx0XHRcdFx0XHRcdFx0bGFuZ3VhZ2U6ICd6aC1DTicsXHJcblx0XHRcdFx0XHRcdFx0YWpheDoge1xyXG5cdFx0XHRcdFx0XHRcdFx0dXJsOiBcIi91c2VyL2dldFVzZXJJbmZvXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJwb3N0XCIsXHJcblx0XHRcdFx0XHRcdFx0XHRkZWxheTogMjUwLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YTogZnVuY3Rpb24gKHBhcmFtcykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhZ2U6IHBhcmFtcy5wYWdlIHx8IDEsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Uk9MRV9JRDogXCJjZjU0YzBiNTU2NzU0MmUwODQ3NzhjM2Y1YjIzMDA1NCxiNzI5ZTkzMzRhZDY0YzE1YTRlNDdkODhiOGMyNjM4ZiwwMWRjNmQyOWYxNzA0ZWZlYWIwMzc2ZDMyN2Y0N2Q5OCwzMGIxNDg3MjIxNDY0ZDM2OWNhNGMyNDYyY2NjYTkyMCxkZTlkZTJmMDA2ZTE0NWEyOWQ1MmRmYWRkYTI5NTM1Myw0Y2I2MDE4MmJiMjk0Y2ZiYTYyMmY5NTFlMzkwYmM2ZiwwNGZlNWUyMzg0MmY0Yjk5ODIxNjA4MGJjM2I2MTgyMSxiNjkzZjgyNmFmMDU0NWI1YTFjNjA0NDdhMjdjMzA4OSw0NWVmYmEwYTBmYTk0NmFlYmY3YmVmZTYxNGM3NGU1NVwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHE6IHBhcmFtcy50ZXJtIHx8IFwiXCIsIC8vIHNlYXJjaCB0ZXJtXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoZGF0YSwgcGFyYW1zKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHBhcmFtcy5wYWdlID0gcGFyYW1zLnBhZ2UgfHwgMTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0JC5lYWNoKGRhdGEsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmlkID0gdGhpcy5VU0VSX0lEO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMudGV4dCA9IHRoaXMuTkFNRTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzOiBkYXRhLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBhZ2luYXRpb246IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1vcmU6IGRhdGEubGVuZ3RoID09IDEwXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlOiB0cnVlXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRtaW5pbXVtSW5wdXRMZW5ndGg6IDBcclxuXHRcdFx0XHRcdFx0fSkub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRcdHRoYXQuYy5jb3B5TWFuID0gdGhpcy52YWx1ZTtcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0dXBsb2FkZXJfaW5pdCgpe1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgID10aGlzO1xyXG5cdFx0XHRcdGlmKHRoaXMudXBsb2FkU3RhdHVzKSByZXR1cm47XHJcblx0XHRcdFx0ICByZXF1aXJlKFsnd2VidXBsb2FkZXInXSwgKFdlYlVwbG9hZGVyKSA9PiB7XHJcblx0XHRcdFx0ICBcdHRoYXQudXBsb2FkSW5pdD0xXHJcblx0XHRcdFx0ICBcdHZhciBsb2FkaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZGVyID0gV2ViVXBsb2FkZXIuY3JlYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXI6IFwiL2NvbnRyYWN0L3VwbG9hZEF0dGFjaG1lbnQuZG9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lT3JkZXI6ICdodG1sNScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljazoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJyNmaWxlc1VwbG9hZEJ0bicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVySFRNTDogJ+S4iuS8oOmZhOS7tidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU51bUxpbWl0OiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/kuIrkvKDmiJDlip9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyLm9uKCd1cGxvYWRTdWNjZXNzJywgZnVuY3Rpb24gKGZpbGUsIHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYy5maWxlcy5wdXNoKHJlcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyLm9uKCd1cGxvYWRTdGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nID0gbGF5ZXIubG9hZCgzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+S4iuS8oOWHuumUmVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZXIub24oJ3VwbG9hZEVycm9yJywgZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5tc2coJ+S4iuS8oOWHuumUmScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WHuumUmVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgPT0gJ1FfVFlQRV9ERU5JRUQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLm1zZygn5LiK5Lyg5paH5Lu25qC85byP6ZSZ6K+v77yM6K+35qOA5p+lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5LiK5Lyg5a6M5oiQXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlci5vbigndXBsb2FkRmluaXNoZWQnLCBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2UobG9hZGluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/mlofku7bliqDlhaXpmJ/liJdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyLm9uKCdmaWxlUXVldWVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyLnVwbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmaWxlc19kZWwoaW5kZXgpe1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdGNvbnN0IGRpYWxvZyA9IGxheWVyLmNvbmZpcm0oXCLnoa7orqTliKDpmaTmraTpobk/XCIsKCk9PntcclxuXHRcdFx0XHRcdHRoYXQuYy5maWxlcy5zcGxpY2UoaW5kZXgsMSk7XHJcblx0XHRcdFx0XHRsYXllci5jbG9zZShkaWFsb2cpXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0c2F2ZShjYikge1xyXG5cdFx0XHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xyXG5cdFx0XHRcdGxldCBwb3N0RGF0YSA9IHtcclxuXHRcdFx0XHRcdHRpbWU6dGhpcy5jLnRpbWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYoIXRoaXMuYy50aW1lKXtcclxuXHRcdFx0XHRcdGxheWVyLm1zZygn6K+36YCJ5oup5pe26Ze0JylcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRwb3N0RGF0YS5yZWFkTWFuID0gJChcIiNyZWFkTWFuXCIpLnZhbCgpXHJcblx0XHRcdFx0cG9zdERhdGEucmVhZE1hbk5hbWUgPSAkKFwiI3JlYWRNYW5cIikuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS50ZXh0KClcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZighcG9zdERhdGEucmVhZE1hbil7XHJcblx0XHRcdFx0XHRsYXllci5tc2coJ+ivt+mAieaLqeaJuemYheS6uicpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cG9zdERhdGEuY29weU1hbiA9IFtdXHJcblx0XHRcdFx0cG9zdERhdGEuY29weU1hbk5hbWUgPSBbXVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdCQuZWFjaCgkKFwiI2NvcHlNYW5cIikuZmluZCgnb3B0aW9uOnNlbGVjdGVkJyksZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdHBvc3REYXRhLmNvcHlNYW4ucHVzaCh0aGlzLnZhbHVlKVxyXG5cdFx0XHRcdFx0cG9zdERhdGEuY29weU1hbk5hbWUucHVzaCh0aGlzLmlubmVySFRNTClcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdGlmKCF0aGlzLmMuY29udGVudCl7XHJcblx0XHRcdFx0XHRsYXllci5tc2coJ+ivt+Whq+WGmeaAu+e7kycpXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cG9zdERhdGEuY29udGVudCA9IHlvLnRleHRhcmVhX3N0cih0aGlzLmMuY29udGVudClcclxuXHRcdFx0XHRpZighdGhpcy5jLnBsYW4pe1xyXG5cdFx0XHRcdFx0bGF5ZXIubXNnKCfor7floavlhpnorqHliJInKVxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHBvc3REYXRhLnBsYW4gPSB5by50ZXh0YXJlYV9zdHIodGhpcy5jLnBsYW4pXHJcblx0XHRcdFx0cG9zdERhdGEuZmlsZXMgPSB0aGlzLmMuZmlsZXMgXHJcblx0XHRcdFx0cG9zdERhdGEudHlwZSA9dGhpcy50eXBlXHJcblx0XHRcdFx0cG9zdERhdGEuaWQgPSB0aGlzLmMuaWRcclxuXHRcdFx0XHRjb25zdCBsb2FkaW5nU3dpdGNoID0gbGF5ZXIubG9hZCgzKTtcclxuXHRcdFx0XHQgY29uc3QgYXBpID0gdGhpcy5zdGF0dXM9PSdlZGl0JyA/IHRoaXMuYXBpX3VwZGF0ZVRhc2tzIDogdGhpcy5hcGlfc2F2ZVJlcG9ydERhdGFcclxuXHRcdFx0XHR5b2N0by5qc29uKGFwaSxwb3N0RGF0YSxmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdFx0IGxheWVyLmNsb3NlKGxvYWRpbmdTd2l0Y2gpXHJcblx0XHRcdFx0XHRcdGxheWVyLm1zZygn5o+Q5Lqk5oiQ5YqfJyk7XHJcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0XHRsb2NhdGlvbi5yZWxvYWQoKVxyXG5cdFx0XHRcdFx0XHR9LDIwMDApXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdH1cclxuXHR9KVxyXG5cdHJldHVybiBtb2R1bGVcclxufSk7XHJcblxyXG5cclxuIl19
